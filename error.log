====================[ 构建 | sd_and_lcd2 | Debug - Debug ]========================
"C:\Program Files\JetBrains\CLion 2025.1.3\bin\cmake\win\x64\bin\cmake.exe" --build D:\stm32\sd_and_lcd2\build\Debug --target sd_and_lcd2 -j 14
[1/5] Building C object CMakeFiles/sd_and_lcd2.dir/st7735/st7735.c.obj
FAILED: CMakeFiles/sd_and_lcd2.dir/st7735/st7735.c.obj
D:\ST\STM32CubeCLT_1.20.0\GNU-tools-for-STM32\bin\arm-none-eabi-gcc.exe -DDEBUG -DSTM32F411xE -DUSE_HAL_DRIVER -ID:/stm32/sd_and_lcd2/./st7735 -ID:/stm32/sd_and_lcd2/./data/font -ID:/stm32/sd_and_lcd2/./data/pic -ID:/stm32/sd_and_lcd2/./TJpgDec -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Core/Inc -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../FATFS/Target -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../FATFS/App -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/STM32F4xx_HAL_Driver/Inc -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Middlewares/Third_Party/FatFs/src -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/CMSIS/Device/ST/STM32F4xx/Include -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/CMSIS/Include -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard  -Wall -fdata-sections -ffunction-sections -mcpu=cortex-m4 -mthumb -mfloat-abi=hard -mfpu=fpv4-sp-d16 -O0 -g3 -std=gnu11 -fdiagnostics-color=always -MD -MT CMakeFiles/sd_and_lcd2.dir/st7735/st7735.c.obj -MF CMakeFiles\sd_and_lcd2.dir\st7735\st7735.c.obj.d -o CMakeFiles/sd_and_lcd2.dir/st7735/st7735.c.obj -c D:/stm32/sd_and_lcd2/st7735/st7735.c
In file included from D:/stm32/sd_and_lcd2/st7735/st7735.c:3:
D:/stm32/sd_and_lcd2/st7735/st7735.h:32:34: error: 'ST7735_WIDTH' undeclared here (not in a function)
   32 | #define ST7735_LINE_BUFFER_SIZE (ST7735_WIDTH * 2)
      |                                  ^~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:33:35: note: in expansion of macro 'ST7735_LINE_BUFFER_SIZE'
   33 | extern uint8_t st7735_line_buffer[ST7735_LINE_BUFFER_SIZE];
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~
[2/5] Building CXX object CMakeFiles/sd_and_lcd2.dir/st7735/pic_types.cpp.obj
FAILED: CMakeFiles/sd_and_lcd2.dir/st7735/pic_types.cpp.obj
D:\ST\STM32CubeCLT_1.20.0\GNU-tools-for-STM32\bin\arm-none-eabi-g++.exe -DDEBUG -DSTM32F411xE -DUSE_HAL_DRIVER -ID:/stm32/sd_and_lcd2/./st7735 -ID:/stm32/sd_and_lcd2/./data/font -ID:/stm32/sd_and_lcd2/./data/pic -ID:/stm32/sd_and_lcd2/./TJpgDec -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Core/Inc -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../FATFS/Target -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../FATFS/App -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/STM32F4xx_HAL_Driver/Inc -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Middlewares/Third_Party/FatFs/src -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/CMSIS/Device/ST/STM32F4xx/Include -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/CMSIS/Include -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard  -Wall -fdata-sections -ffunction-sections -fno-rtti -fno-exceptions -fno-threadsafe-statics -mcpu=cortex-m4 -mthumb -mfloat-abi=hard -mfpu=fpv4-sp-d16 -O0 -g3 -fdiagnostics-color=always -MD -MT CMakeFiles/sd_and_lcd2.dir/st7735/pic_types.cpp.obj -MF CMakeFiles\sd_and_lcd2.dir\st7735\pic_types.cpp.obj.d -o CMakeFiles/sd_and_lcd2.dir/st7735/pic_types.cpp.obj -c D:/stm32/sd_and_lcd2/st7735/pic_types.cpp
In file included from D:/stm32/sd_and_lcd2/st7735/pic_types.cpp:7:
D:/stm32/sd_and_lcd2/st7735/st7735.h:32:34: error: 'ST7735_WIDTH' was not declared in this scope
   32 | #define ST7735_LINE_BUFFER_SIZE (ST7735_WIDTH * 2)
      |                                  ^~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:33:35: note: in expansion of macro 'ST7735_LINE_BUFFER_SIZE'
   33 | extern uint8_t st7735_line_buffer[ST7735_LINE_BUFFER_SIZE];
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:32:34: note: the macro 'ST7735_WIDTH' had not yet been defined
   32 | #define ST7735_LINE_BUFFER_SIZE (ST7735_WIDTH * 2)
      |                                  ^~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:33:35: note: in expansion of macro 'ST7735_LINE_BUFFER_SIZE'
   33 | extern uint8_t st7735_line_buffer[ST7735_LINE_BUFFER_SIZE];
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:87:9: note: it was later defined here
   87 | #define ST7735_WIDTH  161   // 原为160
      |         ^~~~~~~~~~~~
[3/5] Building CXX object CMakeFiles/sd_and_lcd2.dir/Core/Src/main.cpp.obj
FAILED: CMakeFiles/sd_and_lcd2.dir/Core/Src/main.cpp.obj
D:\ST\STM32CubeCLT_1.20.0\GNU-tools-for-STM32\bin\arm-none-eabi-g++.exe -DDEBUG -DSTM32F411xE -DUSE_HAL_DRIVER -ID:/stm32/sd_and_lcd2/./st7735 -ID:/stm32/sd_and_lcd2/./data/font -ID:/stm32/sd_and_lcd2/./data/pic -ID:/stm32/sd_and_lcd2/./TJpgDec -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Core/Inc -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../FATFS/Target -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../FATFS/App -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/STM32F4xx_HAL_Driver/Inc -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Middlewares/Third_Party/FatFs/src -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/CMSIS/Device/ST/STM32F4xx/Include -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/CMSIS/Include -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard  -Wall -fdata-sections -ffunction-sections -fno-rtti -fno-exceptions -fno-threadsafe-statics -mcpu=cortex-m4 -mthumb -mfloat-abi=hard -mfpu=fpv4-sp-d16 -O0 -g3 -fdiagnostics-color=always -MD -MT CMakeFiles/sd_and_lcd2.dir/Core/Src/main.cpp.obj -MF CMakeFiles\sd_and_lcd2.dir\Core\Src\main.cpp.obj.d -o CMakeFiles/sd_and_lcd2.dir/Core/Src/main.cpp.obj -c D:/stm32/sd_and_lcd2/Core/Src/main.cpp
In file included from D:/stm32/sd_and_lcd2/Core/Src/main.cpp:33:
D:/stm32/sd_and_lcd2/st7735/st7735.h:32:34: error: 'ST7735_WIDTH' was not declared in this scope
   32 | #define ST7735_LINE_BUFFER_SIZE (ST7735_WIDTH * 2)
      |                                  ^~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:33:35: note: in expansion of macro 'ST7735_LINE_BUFFER_SIZE'
   33 | extern uint8_t st7735_line_buffer[ST7735_LINE_BUFFER_SIZE];
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:32:34: note: the macro 'ST7735_WIDTH' had not yet been defined
   32 | #define ST7735_LINE_BUFFER_SIZE (ST7735_WIDTH * 2)
      |                                  ^~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:33:35: note: in expansion of macro 'ST7735_LINE_BUFFER_SIZE'
   33 | extern uint8_t st7735_line_buffer[ST7735_LINE_BUFFER_SIZE];
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:87:9: note: it was later defined here
   87 | #define ST7735_WIDTH  161   // 原为160
      |         ^~~~~~~~~~~~
D:/stm32/sd_and_lcd2/Core/Src/main.cpp: In function 'int main()':
D:/stm32/sd_and_lcd2/Core/Src/main.cpp:196:14: warning: unused variable 'rst' [-Wunused-variable]
  196 |         bool rst = image.Display(0, 0);
      |              ^~~
D:/stm32/sd_and_lcd2/Core/Src/main.cpp: In function 'void spi_speed_test()':
D:/stm32/sd_and_lcd2/Core/Src/main.cpp:565:23: warning: comparison of integer expressions of different signedness: 'int' and 'unsigned int' [-Wsign-compare]
  565 |     for (int s = 0; s < sizeof(speeds) / sizeof(speeds[0]); s++) {
      |                     ~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
[4/5] Building CXX object CMakeFiles/sd_and_lcd2.dir/st7735/unicode_render.cpp.obj
FAILED: CMakeFiles/sd_and_lcd2.dir/st7735/unicode_render.cpp.obj
D:\ST\STM32CubeCLT_1.20.0\GNU-tools-for-STM32\bin\arm-none-eabi-g++.exe -DDEBUG -DSTM32F411xE -DUSE_HAL_DRIVER -ID:/stm32/sd_and_lcd2/./st7735 -ID:/stm32/sd_and_lcd2/./data/font -ID:/stm32/sd_and_lcd2/./data/pic -ID:/stm32/sd_and_lcd2/./TJpgDec -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Core/Inc -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../FATFS/Target -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../FATFS/App -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/STM32F4xx_HAL_Driver/Inc -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Middlewares/Third_Party/FatFs/src -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/CMSIS/Device/ST/STM32F4xx/Include -ID:/stm32/sd_and_lcd2/cmake/stm32cubemx/../../Drivers/CMSIS/Include -mcpu=cortex-m4 -mfpu=fpv4-sp-d16 -mfloat-abi=hard  -Wall -fdata-sections -ffunction-sections -fno-rtti -fno-exceptions -fno-threadsafe-statics -mcpu=cortex-m4 -mthumb -mfloat-abi=hard -mfpu=fpv4-sp-d16 -O0 -g3 -fdiagnostics-color=always -MD -MT CMakeFiles/sd_and_lcd2.dir/st7735/unicode_render.cpp.obj -MF CMakeFiles\sd_and_lcd2.dir\st7735\unicode_render.cpp.obj.d -o CMakeFiles/sd_and_lcd2.dir/st7735/unicode_render.cpp.obj -c D:/stm32/sd_and_lcd2/st7735/unicode_render.cpp
In file included from D:/stm32/sd_and_lcd2/st7735/unicode_render.cpp:2:
D:/stm32/sd_and_lcd2/st7735/st7735.h:32:34: error: 'ST7735_WIDTH' was not declared in this scope
   32 | #define ST7735_LINE_BUFFER_SIZE (ST7735_WIDTH * 2)
      |                                  ^~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:33:35: note: in expansion of macro 'ST7735_LINE_BUFFER_SIZE'
   33 | extern uint8_t st7735_line_buffer[ST7735_LINE_BUFFER_SIZE];
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:32:34: note: the macro 'ST7735_WIDTH' had not yet been defined
   32 | #define ST7735_LINE_BUFFER_SIZE (ST7735_WIDTH * 2)
      |                                  ^~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:33:35: note: in expansion of macro 'ST7735_LINE_BUFFER_SIZE'
   33 | extern uint8_t st7735_line_buffer[ST7735_LINE_BUFFER_SIZE];
      |                                   ^~~~~~~~~~~~~~~~~~~~~~~
D:/stm32/sd_and_lcd2/st7735/st7735.h:87:9: note: it was later defined here
   87 | #define ST7735_WIDTH  161   // 原为160
      |         ^~~~~~~~~~~~
ninja: build stopped: subcommand failed.
